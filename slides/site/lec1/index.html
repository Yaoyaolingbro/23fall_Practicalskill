<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>lec1 - 2023æ˜¥å¤å®ç”¨æŠ€èƒ½æ‹¾é—</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/simple.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/github.css" />
    <script src="https://cdn.jsdelivr.net/npm/reveal.js-menu@2.1.0/menu.js"></script>

    <link rel="stylesheet" href="./assets/custom.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section ><section data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

<img src="logo.png" style="margin-bottom: 1em">

# Lec1 Linux ç¯å¢ƒå’Œ Shell åŸºç¡€

<hr/>

2023fall è®¡ç®—æœºå­¦é™¢æœ‹è¾ˆè¾…å­¦ã€Œå®ç”¨å·¥å…·æ‹¾é—ã€è¯¾ç¨‹


<div style="text-align: right; margin-top: 1em;">
<p>2023.10.14&emsp;&emsp;&emsp;</p>
</div>

</div>
</div>

</script></section><section data-markdown><script type="text/template">

## æœ¬èŠ‚å†…å®¹

- æ¸…æ¥šè®¤è¯†ä»€ä¹ˆæ˜¯ Shellï¼Œä»€ä¹ˆæ˜¯ Terminal
- å­¦ä¼š Shell åŸºç¡€å‘½ä»¤ï¼ŒåŒ…æ‹¬ç›®å½•æ“ä½œã€æ–‡æœ¬ç¼–è¾‘ã€é‡å®šå‘ã€ç®¡é“ç­‰
- äº†è§£ vim ç¼–è¾‘å™¨çš„åŸºæœ¬ç”¨æ³•ï¼Œä»¥åŠå¦‚ä½•è‡ªè¡Œå­¦ä¹ 

</script></section></section><section ><section data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

# Part.1 å†…æ ¸ã€ç»ˆç«¯&shellï¼Ÿ

</div>
</div>

</script></section><section data-markdown><script type="text/template">

## ä»€ä¹ˆæ˜¯ Shell

- ä¸€ä¸ªé»‘é»‘çš„çª—å£ï¼Ÿ
- ä¸€ä¸ªè¾“å…¥å¥‡æ€ªå‘½ä»¤çš„åœ°æ–¹ï¼Ÿ
- ä¸€ä¸ªçœ‹èµ·æ¥å¾ˆé«˜çº§å¾ˆé»‘å®¢çš„ç•Œé¢ï¼Ÿ

<div class="fragment">

âŒ è¿™äº›éƒ½ä¸æ˜¯ Shell âŒ

</div>



<div class="fragment">

è¿™äº›æè¿°çš„çª—å£å…¶å®æ˜¯ Terminal

</div>

</script></section><section data-markdown><script type="text/template">

## ä»€ä¹ˆæ˜¯ Terminal
<div class="fragment">

- ä¹Ÿå« Terminal Emulatorï¼Œæ¨¡æ‹Ÿä¼ ç»Ÿç»ˆç«¯çš„è¡Œä¸º
- ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œæä¾›äº†ä¸€ä¸ªçª—å£ï¼Œå’Œè¾“å…¥è¾“å‡ºäº¤äº’çš„åŠŸèƒ½
- å†…éƒ¨è¿è¡Œçš„æ˜¯ Shellï¼ŒShell æ‰æ˜¯æ‰§è¡Œå‘½ä»¤å¾—åˆ°è¾“å‡ºçš„ä¸œè¥¿

</div>

<div class="fragment">

éƒ½æœ‰å“ªäº›å¸¸ç”¨çš„ Terminal å‘¢ï¼Ÿ

</div>

<div class="fragment">

- Windows ä¸‹ï¼šWindows Terminalï¼ˆå¼ºçƒˆæ¨èï¼‰
- Linux ä¸‹ï¼šGnome Terminalã€Konsoleã€iTerm2 ç­‰
- macOS ä¸‹ï¼šåŸç”Ÿ Terminalã€iTerm2ï¼ˆæ¨èï¼‰ç­‰
- è·¨å¹³å°ï¼š
    - Warp: <https://warp.dev/>ï¼ŒåŸºäº Rust
    - Hyper: <https://hyper.is/>ï¼ŒåŸºäº Electron
    - ...

</div>

</script></section><section data-markdown><script type="text/template">

## é‚£ä»€ä¹ˆæ‰æ˜¯ Shell
<div class="fragment">

**Shell is a command line-interface (CLI) to interact with the computer.**

</div>

<div class = "fragment">

- â€œå£³å±‚â€ï¼Œæ˜¯ç”¨æˆ·ä¸ç³»ç»Ÿå†…æ ¸äº¤äº’çš„ç•Œé¢
- ä¹Ÿæ˜¯ä¸€ä¸ªç¨‹åºï¼Œè´Ÿè´£æ¥æ”¶å‘½ä»¤ï¼Œå¤„ç†è¦åšçš„å·¥ä½œç„¶åäº¤ç»™å†…æ ¸æ¥æ‰§è¡Œï¼Œå¹¶å¤„ç†è¿”å›è¾“å‡º
- å¦‚ä½•è®©å†…æ ¸æ‰§è¡Œå·¥ä½œï¼Ÿç³»ç»Ÿè°ƒç”¨

</div>

<div class="fragment">

éƒ½æœ‰ä»€ä¹ˆå¸¸ç”¨çš„ Shell å‘¢ï¼Ÿ

</div>  

<div class="fragment">

- Windows ä¸‹ï¼šcmd.exeã€PowerShellï¼ˆå›¾å½¢åŒ– Shellï¼‰
- *nix ä¸‹ï¼š
    - **sh**ï¼šBourne Shellï¼Œæœ€æ—©ã€æœ€ç»å…¸çš„ shell
    - **bash**ï¼šBourne Again Shellï¼Œæœ€å¸¸ç”¨çš„ shellï¼Œç»å¤§éƒ¨åˆ† Linux å‘è¡Œç‰ˆçš„é»˜è®¤ shell
    - **zsh**ï¼šZ Shellï¼ŒåŠŸèƒ½å¼ºå¤§ã€å¯é«˜åº¦è‡ªå®šä¹‰çš„ shellï¼ˆä¸ªäººæ¨èï¼‰
        - è‡ª macOS Catalina å¼€å§‹çš„é»˜è®¤ shell
    - **fish**ï¼šFriendly Interactive Shellï¼Œæ˜“ç”¨ã€å…¨å¹³å°çš„ shell

</div>

</script></section><section data-markdown><script type="text/template">

## Shell ä¸ Terminal

- Terminal çš„ä»»åŠ¡æ˜¯ä»ç”¨æˆ·è·å–è¾“å…¥ï¼Œç„¶åä¼ é€’ç»™ Shellï¼Œç­‰å¾… Shell æ‰§è¡Œå®Œåï¼Œå°†ç»“æœå†ä¼ é€’å›ç”¨æˆ·ï¼ˆæ˜¾ç¤ºå‡ºæ¥ï¼‰
- Shell çš„ä»»åŠ¡æ˜¯ä» Terminal æ‹¿åˆ°è¾“å…¥æŒ‡ä»¤ï¼Œè§£æåäº¤ç»™å†…æ ¸æ‰§è¡Œï¼Œç„¶åå°†ç»“æœè¿”å›ç»™ Terminal

ä¸€äº›ä¾‹å­ï¼š

- macOS ä¸‹ Terminal å¯ä»¥éšæ„æ›´æ¢ Shell
- Ctrl-C åˆ°åº•æ˜¯å¤åˆ¶è¿˜æ˜¯ä¸­æ–­ç¨‹åºï¼Ÿ
    - å’Œ Shell æ— å…³ï¼Œæ˜¯ Terminal çš„è¡Œä¸º
    - æ¯”å¦‚ macOS ä¸Š iTerm å°±å¯ä»¥éšæ„æ›´æ”¹æŒ‰é”®çš„è¿™äº›è¡Œä¸º
    - å¦‚æœå®šä¹‰äº† ^C åº”è¯¥å¤åˆ¶ï¼Œé‚£ä¹ˆ Terminal å°±ä¼šç›´æ¥å¤åˆ¶å†…å®¹åˆ°å‰ªè´´æ¿
    - å¦‚æœå®šä¹‰äº† ^C åº”è¯¥ä¸­æ–­ç¨‹åºï¼Œé‚£ä¹ˆ Terminal å°±å‘Šè¯‰ Shellï¼ŒShell å†é€šè¿‡ SIGINT ä¿¡å·é€šçŸ¥å†…æ ¸ä¸­æ–­ç¨‹åº

</script></section><section data-markdown><script type="text/template">

## ä¸ºä»€ä¹ˆè¦ç”¨å‘½ä»¤è¡Œï¼Ÿå®ƒèƒ½åšä»€ä¹ˆï¼Ÿ

- å‘½ä»¤è¡Œå°±æ˜¯ä¸€ç§æ“ä½œè®¡ç®—æœºçš„æ–¹å¼ï¼Œç†è®ºä¸Šå¯ä»¥åšä»»ä½•äº‹æƒ…
- å¯ä»¥è®©ä½ æ‰‹åœ¨é”®ç›˜ä¸Šå°±èƒ½æ§åˆ¶ç”µè„‘ï¼Œè€Œä¸éœ€è¦é¼ æ ‡æ‹–æ‹½ç­‰
- åœ¨æ²¡æœ‰æ˜¾ç¤ºå™¨çš„æœåŠ¡å™¨ä¸Šï¼ˆä¾‹å¦‚é€šè¿‡ ssh è¿æ¥ï¼‰ï¼Œåªèƒ½é€šè¿‡å‘½ä»¤è¡Œæ“ä½œ
`ssh dzz@clusters.zju.edu.cn -p 80`

ä¸€ä¸ªå¤¸å¼ çš„ä¾‹å­ï¼šä½ ç”šè‡³å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­æŸ¥çœ‹ç½‘é¡µï¼(æ¥è®©æˆ‘ä»¬çœ‹çœ‹bilibilié¡µé¢é•¿ä»€ä¹ˆæ ·å§)

<div style="text-align: center;">
<img src="lec1/img1.png" width="65%" style="margin: 0 auto;">
</div>

</script></section><section data-markdown><script type="text/template">

## *å…³äº zsh çš„ä¸€äº›æ¨èé…ç½®

- oh-my-zshï¼š<https://ohmyz.sh/>ï¼Œä¸€ä¸ª zsh çš„é…ç½®æ¡†æ¶ï¼Œæ”¯æŒä¸»é¢˜ã€æ’ä»¶ç­‰é…ç½®
- powerlevel10kï¼ˆp10kï¼‰ï¼šä¸€ä¸ª oh-my-zsh çš„ä¸»é¢˜ï¼Œé…ç½®ç®€å•ï¼Œå¥½çœ‹
- æ’ä»¶ï¼š
    - gitï¼šoh-my-zsh è‡ªå¸¦æ’ä»¶ï¼Œæä¾› git ç›¸å…³çš„æç¤º
    - zsh-autosuggestionsï¼šè‡ªåŠ¨æç¤ºè¾“å…¥è¿‡çš„å†å²å‘½ä»¤
    - zsh-syntax-highlightingï¼šå‘½ä»¤è¯­æ³•é«˜äº®
    - autojumpï¼šå¿«é€Ÿè·³è½¬åˆ°æ›¾ç»è·³è½¬è¿‡çš„ç›®å½•
    - ...

å…·ä½“å®‰è£…æ–¹æ³•ç­‰è¯·è§ï¼š<https://note.tonycrane.cc/cs/tools/shell/>
</script></section></section><section ><section data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

# Part.2 Linuxä»‹ç»ä»¥åŠé…åˆ¶

ä»¥ wsl ä¸ºä¾‹

</div>
</div>

</script></section><section data-markdown><script type="text/template">

## Unixå†å²
<div style="text-align: center;">
    <img src="lec1/unix.png" width="65%" style="margin: 0 auto;">
</div>

</script></section><section data-markdown><script type="text/template">

## Open Source Software (OSS)

- Free and Open Source Software (FOSS) or Free/Libre Open Source Software (F/LOSS)
- â€œFree as in beer, and free as in freedomâ€
- Open source software - term used by some software and technology companies. You may not have the right to use, modify, or redistribute the software or source code

</script></section><section data-markdown><script type="text/template">
## GNU and the Free Software Movement

<img src="lec1/GNU.png" float:left width="15%" >
<div class = "fragment">
â€œSo that I can continue to use computers without violating my principles, I have decided to put together a sufficient body of free software so that I will be able to get along without any software that is not free.â€
Richard Stallman (1983)ï¼ˆæ‡‚å¾—éƒ½æ‡‚æ˜¯å§hhhhï¼‰
</div>

</script></section><section data-markdown><script type="text/template">

## å¸¸è§çš„ä½¿ç”¨ç¯å¢ƒ
- è™šæ‹Ÿæœºï¼ˆä¾‹å¦‚virtualboxï¼ŒVMware Workstationæ¨èï¼‰
- windwosç”¨æˆ·å¼ºçƒˆå»ºè®®å¤§å®¶ä½¿ç”¨`WSL`

<div class = "fragment">

å…³äºWSLä¸­ä½¿ç”¨çš„ä¸€äº›æ¨èï¼š
- å®‰è£…æ•™ç¨‹å¯ä»¥è§ [å®˜æ–¹æ–‡æ¡£](https://learn.microsoft.com/en-us/windows/wsl/install)(å»ºè®®æœ€å¥½æ˜¯ä¸“ä¸šç‰ˆï¼Œå®¶åº­ç‰ˆéœ€è¦å¼€å¯HyperVæœåŠ¡)
- [Dev on WSL](https://dowww.spencerwoo.com/)(ä¸€ä¸ªWSLä½¿ç”¨æŠ€å·§çš„ç½‘ç«™)

</div>

</script></section><section data-markdown><script type="text/template">

## å¸¸ç”¨çš„shellå‘½ä»¤

å‘½ä»¤åƒåƒä¸‡ï¼Œä½†æ˜¯æœ€å¸¸ç”¨åŒæ—¶ä¹Ÿè®©ä½ å¿«é€Ÿä¸Šæ‰‹linuxå‘½ä»¤å°±é‚£ä¹ˆå‡ ä¸ª

<div class="fragment">
    <div style="text-align: center;">
    <img src="lec1/shell_command.png" width="65%" style="margin: 0 auto;">
    </div>
</div>


</script></section></section><section ><section data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

# Part.3 åŸºç¡€ Shell å‘½ä»¤

ä»¥ bash/zsh ä¸ºä¾‹

</div>
</div>

</script></section><section data-markdown><script type="text/template">

## å¦‚ä½•å­¦ä¹ 
- [Decal slide](https://docs.google.com/presentation/d/1SYoC8j1qiM4CuhSArouJbhLpUfDAfyuFMF8r7R4Y0_Y/edit#slide=id.g1f06a453932_1_32)
- Missing semester
- Of course Google!

</script></section><section data-markdown><script type="text/template">

## Prompt ä¸è·¯å¾„æ„è¯†

- Prompt å³å‘½ä»¤æç¤ºç¬¦ï¼Œç”¨æ¥ç­‰å¾…è¾“å…¥å¹¶ç»™ä½ æä¾›ä¸€äº›ä¿¡æ¯
- å…¶ä¸­æœ€é‡è¦çš„ä¿¡æ¯å°±æ˜¯**å½“å‰è·¯å¾„**ï¼Œä¹Ÿç§°å·¥ä½œè·¯å¾„ï¼Œæ˜¯å½“å‰ Shell æ‰€å¤„çš„â€œä½ç½®â€
    - ä¸€å®šè¦æ—¶æ—¶åˆ»åˆ»çŸ¥é“è‡ªå·±â€œåœ¨å“ªé‡Œâ€
    - å› ä¸ºåŸºæœ¬æ‰€æœ‰å‘½ä»¤çš„è¡Œä¸ºéƒ½å’Œå½“å‰è·¯å¾„æœ‰å…³
- é€šå¸¸è¿˜è¦æœ‰çš„ä¿¡æ¯æ˜¯å½“å‰æ­£åœ¨æ“ä½œçš„**ç”¨æˆ·**
    - å’Œæƒé™æœ‰å…³ï¼Œæ¯”å¦‚æ™®é€šç”¨æˆ·è¿˜æ˜¯ root ç­‰

<br/>

<div class="fragment">

- å‘å…¶ä¸­è¾“å…¥å‘½ä»¤ç„¶åå›è½¦ï¼Œå°±å¯ä»¥æ‰§è¡Œå‘½ä»¤
- è¾“å…¥ pwdï¼Œè¿™ä¸ªå‘½ä»¤ç”¨æ¥è·å–å½“å‰è·¯å¾„
    - å¯è§ ~ ä»£è¡¨çš„å°±æ˜¯å½“å‰ç”¨æˆ·çš„ â€œhomeâ€ ç›®å½•
- *nix ä¸‹çš„è·¯å¾„åˆ†éš”ç¬¦æ˜¯ /ï¼ŒWindows ä¸‹æ˜¯ \
- è€Œä¸” Windows ä¸‹æœ‰å¤šä¸ªâ€œæ ¹ç›®å½•â€ï¼Œå³ä¸åŒâ€œç›˜ç¬¦â€ï¼Œæ¯”å¦‚ C:\ã€D:\ ç­‰

</div>

</script></section><section data-markdown><script type="text/template">

## è·¯å¾„ç›¸å…³å‘½ä»¤

- pwdï¼šè·å–å½“å‰è·¯å¾„
- cd *path*ï¼šåˆ‡æ¢è·¯å¾„
    - *path* å¯ä»¥æ˜¯â€œç›¸å¯¹è·¯å¾„â€æˆ–è€…â€œç»å¯¹è·¯å¾„â€
    - *path* ä¸­ ~ ä»£è¡¨ homeï¼Œ. ä»£è¡¨å½“å‰è·¯å¾„ï¼Œ.. ä»£è¡¨ä¸Šä¸€çº§è·¯å¾„

</script></section><section data-markdown><script type="text/template">

## æ–‡ä»¶/ç›®å½•æ“ä½œå‘½ä»¤

- lsï¼šåˆ—å‡ºå½“å‰è·¯å¾„ä¸‹çš„æ–‡ä»¶å’Œç›®å½•
    - -aï¼šåˆ—å‡ºæ‰€æœ‰æ–‡ä»¶å’Œç›®å½•ï¼ŒåŒ…æ‹¬éšè—æ–‡ä»¶
    - -lï¼šåˆ—å‡ºè¯¦ç»†ä¿¡æ¯
- touch *file*ï¼šåˆ›å»ºä¸€ä¸ªæ–‡ä»¶
- mkdir *dir*ï¼šåˆ›å»ºä¸€ä¸ªç›®å½•
- rm *file*ï¼šåˆ é™¤ä¸€ä¸ªæ–‡ä»¶
    - -rï¼šé€’å½’åˆ é™¤ç›®å½•ï¼›-fï¼šå¼ºåˆ¶åˆ é™¤
- rmdir *dir*ï¼šåˆ é™¤ä¸€ä¸ªç©ºç›®å½•ï¼ˆrm -r *dir* åˆ é™¤ç›®å½•åŠå…¶ä¸‹å…¨éƒ¨å†…å®¹ï¼‰
- cp *src* *dst*ï¼šå¤åˆ¶æ–‡ä»¶æˆ–ç›®å½•
    - -rï¼šé€’å½’å¤åˆ¶ç›®å½•
- mv *src* *dst*ï¼šç§»åŠ¨æ–‡ä»¶æˆ–ç›®å½•ï¼ˆé‡å‘½åï¼‰
- find *path* -name *pattern*ï¼šåœ¨ *path* ä¸‹æŸ¥æ‰¾æ–‡ä»¶ååŒ¹é… *pattern* çš„æ–‡ä»¶

</script></section><section data-markdown><script type="text/template">

## æ–‡ä»¶å†…å®¹æŸ¥çœ‹å‘½ä»¤

- cat *file*ï¼šè¾“å‡ºæ–‡ä»¶å†…å®¹
    - -nï¼šè¾“å‡ºè¡Œå·
- head -n *lines* *file*ï¼šè¾“å‡ºæ–‡ä»¶å‰ *lines* è¡Œ
- tail -n *lines* *file*ï¼šè¾“å‡ºæ–‡ä»¶å *lines* è¡Œ
- more/less *file*ï¼šåˆ†é¡µè¾“å‡ºæ–‡ä»¶å†…å®¹
    - ç©ºæ ¼ç¿»é¡µï¼Œå›è½¦ä¸‹ä¸€è¡Œï¼Œq é€€å‡º
    - less çš„åŠŸèƒ½æ›´å¤šï¼Œæ¯”å¦‚æŸ¥æ‰¾ï¼Œæ›´å¥½çš„ç¿»é¡µç­‰ï¼Œç”¨æ³•è§ less --help

</script></section><section data-markdown><script type="text/template">

## å…¶ä»–å‘½ä»¤

- echoï¼šè¾“å‡ºå­—ç¬¦ä¸²ï¼ˆå¸¸é…åˆé‡å®šå‘/ç®¡é“ä½¿ç”¨ï¼‰
- whoamiï¼šè·å–å½“å‰ç”¨æˆ·
- dateï¼šè·å–å½“å‰æ—¶é—´
- clearï¼šæ¸…å±
- psï¼šæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯
- killï¼šæ€æ­»è¿›ç¨‹
- manï¼šæŸ¥çœ‹ man æ–‡æ¡£
- grepï¼šæŸ¥æ‰¾æ–‡ä»¶å†…å®¹ï¼ˆå¸¸é…åˆé‡å®šå‘/ç®¡é“ä½¿ç”¨ï¼‰
- diffï¼šæ¯”è¾ƒæ–‡ä»¶/ç›®å½•å†…å®¹
- lnï¼šåˆ›å»ºé“¾æ¥
- whereis/whichï¼šæŸ¥æ‰¾å‘½ä»¤æ‰€åœ¨ä½ç½®
- curlï¼šå‘é€ HTTP è¯·æ±‚ï¼›wgetï¼šä¸‹è½½æ–‡ä»¶
- ...

</script></section><section data-markdown><script type="text/template">

## é‡å®šå‘

- å³æ–‡ä»¶æµé‡å®šå‘
- shell ä¸­ä¸‰ç§æµï¼šstdin æ ‡å‡†è¾“å…¥ï¼Œstdout æ ‡å‡†è¾“å‡ºï¼Œstderr æ ‡å‡†é”™è¯¯
- å¦‚ä½•æ›´ä¾¿æ·åœ°å°†è¾“å‡ºå­˜å…¥æ–‡ä»¶/å°†æ–‡ä»¶å†…å®¹ä½œä¸ºç¨‹åºè¾“å…¥ï¼Ÿé€šè¿‡é‡å®šå‘
- é€šè¿‡ > *file* å°† stdout é‡å®šå‘åˆ°æ–‡ä»¶ï¼Œé€šè¿‡ < *file* å°†æ–‡ä»¶é‡å®šå‘åˆ° stdin
- é€šè¿‡ 2> *file* å°† stderr é‡å®šå‘åˆ°æ–‡ä»¶
- ä¸¤ä¸ªå³ç®­å¤´ï¼ˆå¤§äºå·ï¼‰>> è¡¨ç¤ºè¿½åŠ æ¨¡å¼ï¼Œå³ä¸è¦†ç›–åŸæ–‡ä»¶ï¼Œè€Œæ˜¯è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾
- é€šè¿‡ &> *file* å°† stdout å’Œ stderr é‡å®šå‘åˆ°æ–‡ä»¶

<div class="fragment">

å¸¸è§ç”¨æ³•ï¼š

- echo "hello" > *file*ï¼šå°†å­—ç¬¦ä¸² hello å†™å…¥æ–‡ä»¶
- cat *file* > *file2*ï¼šå°†æ–‡ä»¶å†…å®¹å¤åˆ¶åˆ°å¦ä¸€ä¸ªæ–‡ä»¶
- diff *file1* *file2* > *file3*ï¼šå°† diff çš„è¾“å‡ºå†™å…¥æ–‡ä»¶
- ./a.out < *file*ï¼šå°†æ–‡ä»¶ä½œä¸ºç¨‹åºçš„è¾“å…¥

</div>

</script></section><section data-markdown><script type="text/template">

## ç®¡é“

- é€šè¿‡ç®¡é“ï¼ˆpipeï¼‰å¯ä»¥å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥
- ä½¿ç”¨ | æ“ä½œç¬¦ï¼Œå°†å·¦ä¾§ stdout é‡å®šå‘åˆ°å³ä¾§ stdin
- é€šè¿‡ç®¡é“å¯ä»¥å°†å¤šä¸ªå‘½ä»¤è¿æ¥èµ·æ¥ï¼Œå½¢æˆä¸€ä¸ªå‘½ä»¤åºåˆ—ï¼Œå¯ä»¥é€šè¿‡ä¸€è¡Œå‘½ä»¤æ¥å®Œæˆç›¸å¯¹å¤æ‚çš„æ“ä½œï¼ˆe.g. [SadServers](https://sadservers.com/) Saskatoonï¼‰
    ```bash
    $ cat /home/admin/access.log | cut -d ' ' -f 1 | sort | uniq -c | sort | tail -n 1
    ```
- å¤æ‚å‘½ä»¤çœ‹ä¸æ‡‚ï¼Ÿæ¨èï¼š[explainshell](https://explainshell.com/)

å¸¸ç”¨æ­é…ï¼š

- *some command* | tail -n *lines*ï¼šåªè¾“å‡ºæœ€å *lines* è¡Œ
- *some command* | lessï¼šåˆ†é¡µè¾“å‡º
- *some command* | grep *pattern*ï¼šåœ¨è¾“å‡ºä¸­æŸ¥æ‰¾åŒ¹é… *pattern* çš„è¡Œ
- ä¸ cut / sort / uniq / awk ç­‰å‘½ä»¤æ­é…ï¼Œå¤„ç†æ–‡æœ¬æ•°æ®
- ...

</script></section><section data-markdown><script type="text/template">

## *ç¯å¢ƒå˜é‡

- ä¸€äº›è®°å½•äº†ç³»ç»Ÿä¿¡æ¯çš„å˜é‡ï¼Œæ–¹ä¾¿ç¨‹åºæ¥ä½¿ç”¨
- é€šè¿‡ echo $*var* æ¥æŸ¥çœ‹æŸä¸€ç¯å¢ƒå˜é‡çš„å€¼ï¼Œenv å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒå˜é‡
- ä¸€ä¸ªå…³äºç¯å¢ƒå˜é‡å’Œ shell å‘½ä»¤æ‰§è¡Œçš„ä¾‹å­
    - ğŸ¤” å‘½ä»¤æ˜¯ä»€ä¹ˆï¼ˆä¾‹å¦‚ lsï¼‰ï¼Ÿ
    - -> æ˜¯ä¸€ä¸ªç¨‹åºï¼ˆ/bin/lsï¼‰ï¼Œæ‰§è¡Œå‘½ä»¤å°±æ˜¯æ‰§è¡Œç¨‹åº
    - ğŸ¤” ä¸ºä»€ä¹ˆ shell å¯ä»¥åªé€šè¿‡ ls å°±æ‰¾åˆ° /bin/ls è¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Ÿ
    - -> åœ¨ PATH ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾
    - ğŸ¤” ä¸ºä»€ä¹ˆä¸€å®šè¦ç”¨ ./a.out è€Œä¸æ˜¯ a.out æ¥æ‰§è¡Œç¨‹åºï¼Ÿ
    - -> å› ä¸º .ï¼ˆå³å½“å‰ç›®å½•ï¼‰å¹¶ä¸åœ¨ PATH å˜é‡ä¸­
- è®¾ç½®ç¯å¢ƒå˜é‡
    - export *var*=*value*ï¼šè®¾ç½®ç¯å¢ƒå˜é‡
        - ä»…åœ¨å½“å‰æ‰§è¡Œçš„ shell ä¸­æœ‰æ•ˆï¼Œå¦‚ä½•æŒä¹…åŒ– -> å†™å…¥é…ç½®æ–‡ä»¶
    - unset *var*ï¼šåˆ é™¤ç¯å¢ƒå˜é‡ï¼Œæˆ–é€šè¿‡ export å°†å€¼è®¾ä¸ºç©º

</script></section><section data-markdown><script type="text/template">

## *é…ç½®æ–‡ä»¶

- æœ¬è´¨ä¸Šæ˜¯åœ¨åŠ è½½ shell æ—¶æ‰§è¡Œçš„ä¸€äº›è„šæœ¬æ–‡ä»¶
    - æ¯”å¦‚ Linux ä¸Š bash åœ¨å¯åŠ¨æ—¶ä¼šä¾æ­¤åŠ è½½å¹¶æ‰§è¡Œä»¥ä¸‹æ–‡ä»¶ï¼ˆæœ‰çœç•¥ï¼‰ï¼š
        - /etc/environment -> /etc/profile -> ~/.profile -> ~/.bashrc
    - æ‰€ä»¥åªè¦å°† export è¯­å¥å†™å…¥ä¸Šè¿°ä¸­çš„ä¸€ä¸ªï¼ˆä¸€èˆ¬æ˜¯ ~/.bashrcï¼‰å°±å¯ä»¥è‡ªåŠ¨å¯¹æ‰€æœ‰ shell è®¾ç½®ç¯å¢ƒå˜é‡
- è®¾ç½®äº† shell çš„é…ç½®æ–‡ä»¶åï¼Œé‡å¼€æ–° shell æ‰ä¼šæœ‰æ•ˆæœ
    - ä¸æƒ³é‡å¼€ï¼Ÿå¯ä»¥ä½¿ç”¨ source *file* æ¥ç«‹åˆ»åŠ è½½æŸä¸€é…ç½®æ–‡ä»¶
        - å…¶å®å°±ç›¸å½“äºç›´æ¥è¿è¡Œäº†ä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶ä¸­çš„è„šæœ¬
- é™¤äº† shell çš„é…ç½®æ–‡ä»¶å¤–ï¼Œå…¶ä»–ç¨‹åºçš„é…ç½®æ–‡ä»¶ä¹Ÿç»å¸¸å­˜æ”¾åœ¨ home ä¸‹
    - ä¸”é€šå¸¸ä»¥ . å¼€å¤´ï¼ˆéšè—ï¼‰ï¼Œä»¥ rc ç»“å°¾ï¼ˆrun commandï¼‰
    - æ¯”å¦‚åé¢ä¼šè¯´åˆ°çš„ ~/.vimrc

</script></section></section><section ><section data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

# Part.4 vim åŸºç¡€ç”¨æ³•

</div>
</div>

</script></section><section data-markdown><script type="text/template">

## ä»€ä¹ˆæ˜¯ vimï¼Ÿ

- vi å’Œ vimï¼Ÿ
    - vi: å¤§éƒ¨åˆ† *nix ç³»ç»Ÿè‡ªå¸¦çš„è€ç‰Œæ–‡æœ¬ç¼–è¾‘å™¨
    - vim: vi improvedï¼Œvi çš„å‡çº§ç‰ˆï¼ŒåŠŸèƒ½æ›´å¼ºå¤§
- åŸºäºå‘½ä»¤è¡Œçš„æ–‡æœ¬/ä»£ç ç¼–è¾‘å™¨
- å¦‚ä½•åœ¨ä½ çš„ç”µè„‘ä¸Šä½¿ç”¨ vim
    - Linux/macOSï¼šç›´æ¥é€šè¿‡åŒ…ç®¡ç†å™¨ï¼ˆapt/yum/brew ç­‰ï¼‰å®‰è£…
    - Windowsï¼š
        - ä½¿ç”¨ WSLï¼Œé‡Œé¢å®‰è£… vim
        - ä½¿ç”¨ [Gvim](https://www.vim.org/download.php) æˆ– [neovim](https://neovim.io/)ï¼ˆå¯é…ç½®ï¼‰
    - VSCode çš„ [vim æ’ä»¶](https://marketplace.visualstudio.com/items?itemName=vscodevim.vim)ä¹Ÿæ˜¯ä¸€ä¸ªé€‰æ‹©ã€‚ï¼ˆä½†ä¸ªäººä¸å»ºè®®æ–°æ‰‹è¿™æ ·åšï¼‰
    - neovimï¼šå…¨å¹³å°çš„ vim å‡çº§ç‰ˆï¼Œå¯é…åˆ [LunarVim](https://www.lunarvim.org/) å¼€ç®±å³ç”¨

</script></section><section data-markdown><script type="text/template">
## å¦‚ä½•å­¦ä¹ 

> è‡ªå·±æœ¬äººå¤§ä¸€è‹¦è‹¦æŒ£æ‰äºæ­¤ç±»æŠ€èƒ½çš„å­¦ä¹ ï¼Œæ„Ÿæ…¨ä¸ä½¬ä»¬å·®è·çš„åŒæ—¶ï¼Œä½ ä¹Ÿä¼šé€æ¸å‘ç°ï¼Œå¬è¯¾ä¸ä¸€å®šèƒ½è®©ä½ å­¦ä¼šä¸œè¥¿ã€‚çœŸæ­£è®©ä½ äº§ç”Ÿè¿›æ­¥çš„ä¸€å®šæ˜¯ä½ çš„éœ€æ±‚ã€‚

<div class="fragment">

> å› æ­¤ä¸ªäººå»ºè®®æ˜¯ï¼Œç­‰ç¢°åˆ°ä¸ä¼šçš„æ—¶å€™å†å»æŸ¥ã€‚åªæœ‰ä½ æœ‰éœ€æ±‚ä¸”ç†Ÿç»ƒèå…¥ä½ çš„ç”Ÿæ´»åä½ æ‰èƒ½æŒæ¡å®ƒã€‚

</div>

**Tipsï¼š**
- å½“ä½ ä¸ä¼šçš„æ—¶å€™ï¼ŒGoogleæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚
- ä¸€ä¸ªVimçš„å°[æ¸¸æˆ](https://vim-adventures.com/)ï¼Œè®©ä½ è¾¹ç©è¾¹å­¦.

æ—¶é—´å…³ç³»åé¢çš„ä¸ä¸€å®šå…¨éƒ¨è®²å®Œï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå­¦ä¹ ï¼Œä¹Ÿå¸Œæœ›æˆ‘ä»¬å¯ä»¥å¤šå¤šäº¤æµä¸€èµ·è¿›æ­¥ã€‚

</script></section><section data-markdown><script type="text/template">

## æ¨¡å¼

- vim ä¸­æœ‰å¤šç§æ¨¡å¼ï¼Œå¯ä»¥è®©ä½ åªé€šè¿‡é”®ç›˜å°±å®Œæˆå„ç§æ“ä½œ
- å¸¸ç”¨æ¨¡å¼ï¼š
    - Normal æ¨¡å¼ï¼šé»˜è®¤æ¨¡å¼ï¼Œç”¨äºç§»åŠ¨å…‰æ ‡ã€å¤„ç†æ–‡æœ¬ã€æ‰§è¡Œå‘½ä»¤ç­‰
    - Insert æ¨¡å¼ï¼šç”¨äºè¾“å…¥æ–‡æœ¬
    - Command æ¨¡å¼ï¼šç”¨äºæ‰§è¡Œå‘½ä»¤
    - *Visual æ¨¡å¼ï¼šç”¨äºé€‰æ‹©æ–‡æœ¬

<div style="text-align: center; margin-top: 0.5em;">
<img src="lec1/modes.png" width="70%" style="margin: 0 auto;">
</div>


</script></section><section data-markdown><script type="text/template">

## Cheat Sheet

- From [vimcheatsheet.com](https://vimcheatsheet.com/)

<div style="text-align: center; margin-top: 0.5em;">
<img src="lec1/vimcheatsheet.png" width="70%" style="margin: 0 auto;">
</div>

</script></section><section data-markdown><script type="text/template">

## Cheat Sheet

- From [ViEmu](http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html)

<div style="text-align: center; margin-top: 0.5em;">
<img src="lec1/vim-cheat-sheet.gif" width="70%" style="margin: 0 auto;">
</div>

</script></section><section data-markdown><script type="text/template">

## vim åŸºç¡€æ“ä½œ

- åŒç³»åˆ—æ›´å¤šæ•™ç¨‹å›¾ç‰‡è§ [ViEmu](http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html)

<div style="text-align: center; margin-top: 0.5em;">
<img src="lec1/vi-vim-tutorial-1.gif" width="70%" style="margin: 0 auto;">
</div>

</script></section><section data-markdown><script type="text/template">

## *vim é…ç½®æ–‡ä»¶

- é€šè¿‡ ~/.vimrc æ–‡ä»¶æ¥è¿›è¡Œé…ç½®
- æˆ‘ä¸ªäººçš„å‡ æ¡ç®€å•é…ç½®ï¼š
    ```text
    syntax on
    set expandtab
    set number
    set autoindent
    set smartindent
    set tabstop=4
    set shiftwidth=4
    set softtabstop=4
    set laststatus=2
    set mouse=a
    set scrolloff=4
    inoremap { {}<ESC>i
    inoremap {<CR> {<CR>}<ESC>O
    ```

</script></section><section data-markdown><script type="text/template">

## vim å­¦ä¹ èµ„æº

- ğŸ† vim è‡ªå¸¦æ•™ç¨‹ï¼švimtutorï¼ˆç›´æ¥è¾“å…¥å‘½ä»¤ï¼‰
- [Vim Adventures](https://vim-adventures.com/)ï¼šä¸€ä¸ªæ¸¸æˆï¼Œé€šè¿‡æ¸¸æˆçš„æ–¹å¼å­¦ä¹  vim
    - PS: è¿™ä¸ªæ˜¯ copilot éè¦ç»™æˆ‘åŠ çš„ï¼ˆx
- Cheat Sheets:
    - [vimcheatsheet.com](https://vimcheatsheet.com/)
    - [ViEmu](http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html)
    - [vim.rtorr.com](https://vim.rtorr.com/lang/zh_cn) åœ¨çº¿æ–‡å­—ç‰ˆ
- Vim ä»å…¥é—¨åˆ°ç²¾é€šï¼š[wsdjeg/vim-galore-zh_cn](https://github.com/wsdjeg/vim-galore-zh_cn)

<br/>

</script></section></section><section  data-markdown><script type="text/template">

<div class="middle center">
<div style="width: 100%">

# è°¢è°¢å¤§å®¶

<hr/>

**Questions?**

</div>
</div></script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default',
        slideNumber: true,
        menu: {
          themes: false,
          width: "wide",
          transitions: false,
          markers: true,
          hideMissingTitles: true,
          openButton: true,
          openSlideNumber: true,
          custom: [
            { title: 'Lectures', icon: '<i class="fas fa-external-link-alt">', content: getLecturesMenu() },
          ]
        },
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath.KaTeX,
          RevealMenu
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"transition":"slide","transitionSpeed":"fast","center":false,"slideNumber":"c/t","width":1000}, queryOptions);

      function getLecturesMenu() {
        var lectures = [
          { name: "#0 å‰ç»ï¼šé€šå¾€ Pro çš„ç¬¬ä¸€æ­¥", src: "../lec0/"},
          { name: "#1 Shell åŸºç¡€åŠ CLI å·¥å…·æ¨è", src: "../lec1/"},
          { name: "#2 Git/GitHub åŸºç¡€ä»‹ç»", src: "../lec2/"},
          { name: "#3 Markdown è¯­æ³•åŠåº”ç”¨", src: "../lec3/"},
          { name: "#4 LaTeX æ’ç‰ˆç®€è¦ä»‹ç»", src: "../lec4/"},
          { name: "#5 å¦‚ä½•æ’å‡ºè§„èŒƒã€ç¾è§‚çš„æ–‡æ¡£", src: "../lec5/"},
          { name: "#6 ç½‘ç»œ/ç½‘ç«™åŸºç¡€çŸ¥è¯†æ¦‚è¿°", src: "../lec6/"},
        ]
        var lecturesMenu = '<ul class="slide-menu-items">';
        for (var i=0; i < lectures.length; i++) {
          lecturesMenu += '<li class="slide-menu-item"><a href="' + lectures[i].src + '" style="text-decoration:none">' + lectures[i].name + '</a></li>';
        }
        lecturesMenu += '</ul>';
        return lecturesMenu;
      }
    </script>

    <script src="https://cdn.tonycrane.cc/heti/heti.js"></script>
    <script src="./assets/heti_worker.js"></script>

    <script>
      Reveal.initialize(options).then(() => {
        document.querySelector(".backgrounds").setAttribute("style", document.querySelector(".slides").style.cssText);
      });
      Reveal.on('overviewshown', event => {
        document.querySelector(".backgrounds").setAttribute("style", "");
      });
      Reveal.on('overviewhidden', event => {
        document.querySelector(".backgrounds").setAttribute("style", document.querySelector(".slides").style.cssText);
      });
      Reveal.on('resize', event => {
        document.querySelector(".backgrounds").setAttribute("style", document.querySelector(".slides").style.cssText);
      });
    </script>
  </body>
</html>